{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\devan\\\\Desktop\\\\work\\\\national stock exchange\\\\client\\\\src\\\\components\\\\FATCAReport.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Grid, Paper, Typography, Snackbar } from '@material-ui/core';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FATCAReport = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    pan_pkrn_no: '',\n    from_date: '',\n    to_date: ''\n  });\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const validateDates = () => {\n    const from = new Date(formData.from_date);\n    const to = new Date(formData.to_date);\n    const diffTime = Math.abs(to - from);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    if (diffDays > 31) {\n      throw new Error('Date range cannot exceed 31 days');\n    }\n    if (from > to) {\n      throw new Error('From date cannot be greater than to date');\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      validateDates();\n      const response = await fetch('/api/fatca-report', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      const data = await response.json();\n      setSnackbar({\n        open: true,\n        message: data.success ? 'FATCA report generated successfully!' : 'Error generating FATCA report',\n        severity: data.success ? 'success' : 'error'\n      });\n      if (data.success && data.reportData) {\n        // Handle the report data here - could be downloading a file\n        // or displaying in a table based on the API response\n        console.log('Report data:', data.reportData);\n      }\n    } catch (error) {\n      setSnackbar({\n        open: true,\n        message: error.message || 'Error generating FATCA report',\n        severity: 'error'\n      });\n    }\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbar(prev => ({\n      ...prev,\n      open: false\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    style: {\n      padding: 20,\n      margin: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"FATCA Report\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"PAN/PKRN Number\",\n            name: \"pan_pkrn_no\",\n            value: formData.pan_pkrn_no,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"From Date\",\n            name: \"from_date\",\n            type: \"date\",\n            value: formData.from_date,\n            onChange: handleChange,\n            InputLabelProps: {\n              shrink: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"To Date\",\n            name: \"to_date\",\n            type: \"date\",\n            value: formData.to_date,\n            onChange: handleChange,\n            InputLabelProps: {\n              shrink: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            style: {\n              marginTop: 20\n            },\n            children: \"Generate Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      children: /*#__PURE__*/_jsxDEV(MuiAlert, {\n        elevation: 6,\n        variant: \"filled\",\n        onClose: handleCloseSnackbar,\n        severity: snackbar.severity,\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n_s(FATCAReport, \"UMrhqgw00deg1qTnpOc076YGTRU=\");\n_c = FATCAReport;\nexport default FATCAReport;\nvar _c;\n$RefreshReg$(_c, \"FATCAReport\");","map":{"version":3,"names":["React","useState","TextField","Button","Grid","Paper","Typography","Snackbar","MuiAlert","jsxDEV","_jsxDEV","FATCAReport","_s","formData","setFormData","pan_pkrn_no","from_date","to_date","snackbar","setSnackbar","open","message","severity","handleChange","e","name","value","target","prev","validateDates","from","Date","to","diffTime","Math","abs","diffDays","ceil","Error","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","success","reportData","console","log","error","handleCloseSnackbar","style","padding","margin","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","container","spacing","item","xs","required","fullWidth","label","onChange","sm","type","InputLabelProps","shrink","color","marginTop","autoHideDuration","onClose","elevation","_c","$RefreshReg$"],"sources":["C:/Users/devan/Desktop/work/national stock exchange/client/src/components/FATCAReport.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n    TextField,\r\n    Button,\r\n    Grid,\r\n    Paper,\r\n    Typography,\r\n    Snackbar,\r\n} from '@material-ui/core';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nconst FATCAReport = () => {\r\n    const [formData, setFormData] = useState({\r\n        pan_pkrn_no: '',\r\n        from_date: '',\r\n        to_date: ''\r\n    });\r\n\r\n    const [snackbar, setSnackbar] = useState({\r\n        open: false,\r\n        message: '',\r\n        severity: 'success'\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const validateDates = () => {\r\n        const from = new Date(formData.from_date);\r\n        const to = new Date(formData.to_date);\r\n        const diffTime = Math.abs(to - from);\r\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n        if (diffDays > 31) {\r\n            throw new Error('Date range cannot exceed 31 days');\r\n        }\r\n\r\n        if (from > to) {\r\n            throw new Error('From date cannot be greater than to date');\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            validateDates();\r\n\r\n            const response = await fetch('/api/fatca-report', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(formData),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            setSnackbar({\r\n                open: true,\r\n                message: data.success ? 'FATCA report generated successfully!' : 'Error generating FATCA report',\r\n                severity: data.success ? 'success' : 'error'\r\n            });\r\n\r\n            if (data.success && data.reportData) {\r\n                // Handle the report data here - could be downloading a file\r\n                // or displaying in a table based on the API response\r\n                console.log('Report data:', data.reportData);\r\n            }\r\n        } catch (error) {\r\n            setSnackbar({\r\n                open: true,\r\n                message: error.message || 'Error generating FATCA report',\r\n                severity: 'error'\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleCloseSnackbar = () => {\r\n        setSnackbar(prev => ({ ...prev, open: false }));\r\n    };\r\n\r\n    return (\r\n        <Paper style={{ padding: 20, margin: 20 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n                FATCA Report\r\n            </Typography>\r\n            <form onSubmit={handleSubmit}>\r\n                <Grid container spacing={3}>\r\n                    <Grid item xs={12}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"PAN/PKRN Number\"\r\n                            name=\"pan_pkrn_no\"\r\n                            value={formData.pan_pkrn_no}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"From Date\"\r\n                            name=\"from_date\"\r\n                            type=\"date\"\r\n                            value={formData.from_date}\r\n                            onChange={handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"To Date\"\r\n                            name=\"to_date\"\r\n                            type=\"date\"\r\n                            value={formData.to_date}\r\n                            onChange={handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            style={{ marginTop: 20 }}\r\n                        >\r\n                            Generate Report\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n\r\n            <Snackbar\r\n                open={snackbar.open}\r\n                autoHideDuration={6000}\r\n                onClose={handleCloseSnackbar}\r\n            >\r\n                <MuiAlert\r\n                    elevation={6}\r\n                    variant=\"filled\"\r\n                    onClose={handleCloseSnackbar}\r\n                    severity={snackbar.severity}\r\n                >\r\n                    {snackbar.message}\r\n                </MuiAlert>\r\n            </Snackbar>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default FATCAReport; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}