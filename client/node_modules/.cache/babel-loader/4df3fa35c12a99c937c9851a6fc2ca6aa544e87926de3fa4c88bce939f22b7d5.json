{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\devan\\\\Desktop\\\\work\\\\national stock exchange\\\\client\\\\src\\\\components\\\\FATCAUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Grid, Paper, Typography, FormControl, InputLabel, Select, MenuItem, Snackbar } from '@mui/material';\nimport Alert from '@mui/material/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FATCAUpload = () => {\n  _s();\n  const initialFormState = {\n    pan_rp: '',\n    inv_name: '',\n    dob: '',\n    tax_status: '04',\n    data_src: 'P',\n    addr_type: '3',\n    po_bir_inc: '',\n    co_bir_inc: 'IN',\n    tax_res1: 'IN',\n    tpin1: '',\n    id1_type: 'C',\n    srce_wealt: '02',\n    corp_servs: '01',\n    inc_slab: '32',\n    net_worth: '',\n    nw_date: '',\n    pep_flag: 'N',\n    occ_code: '01',\n    occ_type: 'B',\n    exemp_code: 'M',\n    ffi_drnfe: 'FFI',\n    giin_no: '',\n    spr_entity: '',\n    giin_na: 'NO',\n    giin_exemc: '1',\n    nffe_catg: 'A',\n    act_nfe_sc: '07',\n    nature_bus: '',\n    ubo_appl: 'Y',\n    ubo_count: '1',\n    sdf_flag: 'Y',\n    ubo_df: 'Y',\n    log_name: '',\n    ubo_details: [{\n      ubo_name: '',\n      ubo_pan: '',\n      ubo_nation: 'IN',\n      ubo_add1: '',\n      ubo_add2: '',\n      ubo_add3: '',\n      ubo_city: '',\n      ubo_pin: '',\n      ubo_state: '',\n      ubo_cntry: 'IN',\n      ubo_add_ty: '2',\n      ubo_ctr: 'IN',\n      ubo_tin: '',\n      ubo_id_ty: 'C',\n      ubo_cob: 'IN',\n      ubo_dob: '',\n      ubo_gender: 'M',\n      ubo_fr_nam: '',\n      ubo_occ: '01',\n      ubo_occ_ty: 'B',\n      ubo_tel: '',\n      ubo_mobile: '',\n      ubo_code: 'C01',\n      ubo_hol_pc: '',\n      ubo_categ: 'UBO',\n      ubo_pep_fl: 'N',\n      ubo_email: '',\n      ubo_smo_de: ''\n    }]\n  };\n  const [formData, setFormData] = useState(initialFormState);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleUBOChange = (index, field, value) => {\n    const newUBODetails = [...formData.ubo_details];\n    newUBODetails[index] = {\n      ...newUBODetails[index],\n      [field]: value\n    };\n    setFormData(prev => ({\n      ...prev,\n      ubo_details: newUBODetails\n    }));\n  };\n  const formatDateToNSE = dateStr => {\n    if (!dateStr) return '';\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('en-GB', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    }).split('/').join('/');\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      var _data$reg_details, _data$reg_details$, _data$reg_details2, _data$reg_details2$, _data$reg_details3, _data$reg_details3$;\n      // Format dates before sending\n      const formattedData = {\n        ...formData,\n        dob: formatDateToNSE(formData.dob),\n        nw_date: formatDateToNSE(formData.nw_date),\n        ubo_details: formData.ubo_details.map(ubo => ({\n          ...ubo,\n          ubo_dob: formatDateToNSE(ubo.ubo_dob)\n        }))\n      };\n      const response = await fetch('/api/fatca-upload', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          reg_details: [formattedData]\n        })\n      });\n      const data = await response.json();\n      console.log('FATCA Response:', data); // Debug log\n\n      // Check for FATCA-specific error\n      if (data.reg_details && data.reg_details[0]) {\n        const regDetails = data.reg_details[0];\n        if (regDetails.reg_status === 'REG_FAILED') {\n          throw new Error(regDetails.reg_remark || 'FATCA registration failed');\n        }\n      }\n      if (!response.ok) {\n        throw new Error(data.message || 'Error in FATCA registration');\n      }\n      setSnackbar({\n        open: true,\n        message: data.success ? 'FATCA registration successful!' : data.message || ((_data$reg_details = data.reg_details) === null || _data$reg_details === void 0 ? void 0 : (_data$reg_details$ = _data$reg_details[0]) === null || _data$reg_details$ === void 0 ? void 0 : _data$reg_details$.reg_remark) || 'Error in FATCA registration',\n        severity: data.success || ((_data$reg_details2 = data.reg_details) === null || _data$reg_details2 === void 0 ? void 0 : (_data$reg_details2$ = _data$reg_details2[0]) === null || _data$reg_details2$ === void 0 ? void 0 : _data$reg_details2$.reg_status) === 'REG_SUCCESS' ? 'success' : 'error'\n      });\n      if (data.success || ((_data$reg_details3 = data.reg_details) === null || _data$reg_details3 === void 0 ? void 0 : (_data$reg_details3$ = _data$reg_details3[0]) === null || _data$reg_details3$ === void 0 ? void 0 : _data$reg_details3$.reg_status) === 'REG_SUCCESS') {\n        setFormData(initialFormState);\n      } else {\n        console.error('FATCA Registration Error:', data);\n      }\n    } catch (error) {\n      console.error('FATCA Registration Error:', error);\n      setSnackbar({\n        open: true,\n        message: error.message || 'Error submitting FATCA registration',\n        severity: 'error'\n      });\n    }\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbar(prev => ({\n      ...prev,\n      open: false\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    style: {\n      padding: 20,\n      margin: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"FATCA Registration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"PAN\",\n            name: \"pan_rp\",\n            value: formData.pan_rp,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"Investor Name\",\n            name: \"inv_name\",\n            value: formData.inv_name,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"Date of Birth/Incorporation\",\n            name: \"dob\",\n            type: \"date\",\n            value: formData.dob,\n            onChange: handleChange,\n            InputLabelProps: {\n              shrink: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Tax Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"tax_status\",\n              value: formData.tax_status,\n              onChange: handleChange,\n              children: /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"04\",\n                children: \"Non Individual\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"Place of Birth/Incorporation\",\n            name: \"po_bir_inc\",\n            value: formData.po_bir_inc,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"Nature of Business\",\n            name: \"nature_bus\",\n            value: formData.nature_bus,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"Net Worth\",\n            name: \"net_worth\",\n            type: \"number\",\n            value: formData.net_worth,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            label: \"Net Worth Date\",\n            name: \"nw_date\",\n            type: \"date\",\n            value: formData.nw_date,\n            onChange: handleChange,\n            InputLabelProps: {\n              shrink: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"UBO Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, this), formData.ubo_details.map((ubo, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              fullWidth: true,\n              label: \"UBO Name\",\n              value: ubo.ubo_name,\n              onChange: e => handleUBOChange(index, 'ubo_name', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              fullWidth: true,\n              label: \"UBO PAN\",\n              value: ubo.ubo_pan,\n              onChange: e => handleUBOChange(index, 'ubo_pan', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              fullWidth: true,\n              label: \"UBO Address Line 1\",\n              value: ubo.ubo_add1,\n              onChange: e => handleUBOChange(index, 'ubo_add1', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              fullWidth: true,\n              label: \"UBO Mobile\",\n              value: ubo.ubo_mobile,\n              onChange: e => handleUBOChange(index, 'ubo_mobile', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              fullWidth: true,\n              label: \"UBO Email\",\n              type: \"email\",\n              value: ubo.ubo_email,\n              onChange: e => handleUBOChange(index, 'ubo_email', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              fullWidth: true,\n              label: \"Holding Percentage\",\n              type: \"number\",\n              value: ubo.ubo_hol_pc,\n              onChange: e => handleUBOChange(index, 'ubo_hol_pc', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 29\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            style: {\n              marginTop: 20\n            },\n            children: \"Submit FATCA Registration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snackbar.severity,\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 9\n  }, this);\n};\n_s(FATCAUpload, \"wp1PbfJjAinf0FG3rdj8X/8TvWw=\");\n_c = FATCAUpload;\nexport default FATCAUpload;\nvar _c;\n$RefreshReg$(_c, \"FATCAUpload\");","map":{"version":3,"names":["React","useState","TextField","Button","Grid","Paper","Typography","FormControl","InputLabel","Select","MenuItem","Snackbar","Alert","jsxDEV","_jsxDEV","FATCAUpload","_s","initialFormState","pan_rp","inv_name","dob","tax_status","data_src","addr_type","po_bir_inc","co_bir_inc","tax_res1","tpin1","id1_type","srce_wealt","corp_servs","inc_slab","net_worth","nw_date","pep_flag","occ_code","occ_type","exemp_code","ffi_drnfe","giin_no","spr_entity","giin_na","giin_exemc","nffe_catg","act_nfe_sc","nature_bus","ubo_appl","ubo_count","sdf_flag","ubo_df","log_name","ubo_details","ubo_name","ubo_pan","ubo_nation","ubo_add1","ubo_add2","ubo_add3","ubo_city","ubo_pin","ubo_state","ubo_cntry","ubo_add_ty","ubo_ctr","ubo_tin","ubo_id_ty","ubo_cob","ubo_dob","ubo_gender","ubo_fr_nam","ubo_occ","ubo_occ_ty","ubo_tel","ubo_mobile","ubo_code","ubo_hol_pc","ubo_categ","ubo_pep_fl","ubo_email","ubo_smo_de","formData","setFormData","snackbar","setSnackbar","open","message","severity","handleChange","e","name","value","target","prev","handleUBOChange","index","field","newUBODetails","formatDateToNSE","dateStr","date","Date","toLocaleDateString","day","month","year","split","join","handleSubmit","preventDefault","_data$reg_details","_data$reg_details$","_data$reg_details2","_data$reg_details2$","_data$reg_details3","_data$reg_details3$","formattedData","map","ubo","response","fetch","method","headers","body","JSON","stringify","reg_details","data","json","console","log","regDetails","reg_status","Error","reg_remark","ok","success","error","handleCloseSnackbar","style","padding","margin","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","container","spacing","item","xs","sm","required","fullWidth","label","onChange","type","InputLabelProps","shrink","Fragment","color","marginTop","autoHideDuration","onClose","_c","$RefreshReg$"],"sources":["C:/Users/devan/Desktop/work/national stock exchange/client/src/components/FATCAUpload.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n    TextField,\r\n    Button,\r\n    Grid,\r\n    Paper,\r\n    Typography,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Snackbar,\r\n} from '@mui/material';\r\nimport Alert from '@mui/material/Alert';\r\n\r\nconst FATCAUpload = () => {\r\n    const initialFormState = {\r\n        pan_rp: '',\r\n        inv_name: '',\r\n        dob: '',\r\n        tax_status: '04',\r\n        data_src: 'P',\r\n        addr_type: '3',\r\n        po_bir_inc: '',\r\n        co_bir_inc: 'IN',\r\n        tax_res1: 'IN',\r\n        tpin1: '',\r\n        id1_type: 'C',\r\n        srce_wealt: '02',\r\n        corp_servs: '01',\r\n        inc_slab: '32',\r\n        net_worth: '',\r\n        nw_date: '',\r\n        pep_flag: 'N',\r\n        occ_code: '01',\r\n        occ_type: 'B',\r\n        exemp_code: 'M',\r\n        ffi_drnfe: 'FFI',\r\n        giin_no: '',\r\n        spr_entity: '',\r\n        giin_na: 'NO',\r\n        giin_exemc: '1',\r\n        nffe_catg: 'A',\r\n        act_nfe_sc: '07',\r\n        nature_bus: '',\r\n        ubo_appl: 'Y',\r\n        ubo_count: '1',\r\n        sdf_flag: 'Y',\r\n        ubo_df: 'Y',\r\n        log_name: '',\r\n        ubo_details: [{\r\n            ubo_name: '',\r\n            ubo_pan: '',\r\n            ubo_nation: 'IN',\r\n            ubo_add1: '',\r\n            ubo_add2: '',\r\n            ubo_add3: '',\r\n            ubo_city: '',\r\n            ubo_pin: '',\r\n            ubo_state: '',\r\n            ubo_cntry: 'IN',\r\n            ubo_add_ty: '2',\r\n            ubo_ctr: 'IN',\r\n            ubo_tin: '',\r\n            ubo_id_ty: 'C',\r\n            ubo_cob: 'IN',\r\n            ubo_dob: '',\r\n            ubo_gender: 'M',\r\n            ubo_fr_nam: '',\r\n            ubo_occ: '01',\r\n            ubo_occ_ty: 'B',\r\n            ubo_tel: '',\r\n            ubo_mobile: '',\r\n            ubo_code: 'C01',\r\n            ubo_hol_pc: '',\r\n            ubo_categ: 'UBO',\r\n            ubo_pep_fl: 'N',\r\n            ubo_email: '',\r\n            ubo_smo_de: ''\r\n        }]\r\n    };\r\n\r\n    const [formData, setFormData] = useState(initialFormState);\r\n    const [snackbar, setSnackbar] = useState({\r\n        open: false,\r\n        message: '',\r\n        severity: 'success'\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const handleUBOChange = (index, field, value) => {\r\n        const newUBODetails = [...formData.ubo_details];\r\n        newUBODetails[index] = {\r\n            ...newUBODetails[index],\r\n            [field]: value\r\n        };\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            ubo_details: newUBODetails\r\n        }));\r\n    };\r\n\r\n    const formatDateToNSE = (dateStr) => {\r\n        if (!dateStr) return '';\r\n        const date = new Date(dateStr);\r\n        return date.toLocaleDateString('en-GB', {\r\n            day: '2-digit',\r\n            month: '2-digit',\r\n            year: 'numeric'\r\n        }).split('/').join('/');\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            // Format dates before sending\r\n            const formattedData = {\r\n                ...formData,\r\n                dob: formatDateToNSE(formData.dob),\r\n                nw_date: formatDateToNSE(formData.nw_date),\r\n                ubo_details: formData.ubo_details.map(ubo => ({\r\n                    ...ubo,\r\n                    ubo_dob: formatDateToNSE(ubo.ubo_dob)\r\n                }))\r\n            };\r\n\r\n            const response = await fetch('/api/fatca-upload', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    reg_details: [formattedData]\r\n                }),\r\n            });\r\n\r\n            const data = await response.json();\r\n            console.log('FATCA Response:', data); // Debug log\r\n\r\n            // Check for FATCA-specific error\r\n            if (data.reg_details && data.reg_details[0]) {\r\n                const regDetails = data.reg_details[0];\r\n                if (regDetails.reg_status === 'REG_FAILED') {\r\n                    throw new Error(regDetails.reg_remark || 'FATCA registration failed');\r\n                }\r\n            }\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.message || 'Error in FATCA registration');\r\n            }\r\n\r\n            setSnackbar({\r\n                open: true,\r\n                message: data.success ? 'FATCA registration successful!' :\r\n                    (data.message || data.reg_details?.[0]?.reg_remark || 'Error in FATCA registration'),\r\n                severity: data.success || (data.reg_details?.[0]?.reg_status === 'REG_SUCCESS') ? 'success' : 'error'\r\n            });\r\n\r\n            if (data.success || (data.reg_details?.[0]?.reg_status === 'REG_SUCCESS')) {\r\n                setFormData(initialFormState);\r\n            } else {\r\n                console.error('FATCA Registration Error:', data);\r\n            }\r\n        } catch (error) {\r\n            console.error('FATCA Registration Error:', error);\r\n            setSnackbar({\r\n                open: true,\r\n                message: error.message || 'Error submitting FATCA registration',\r\n                severity: 'error'\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleCloseSnackbar = () => {\r\n        setSnackbar(prev => ({ ...prev, open: false }));\r\n    };\r\n\r\n    return (\r\n        <Paper style={{ padding: 20, margin: 20 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n                FATCA Registration\r\n            </Typography>\r\n            <form onSubmit={handleSubmit}>\r\n                <Grid container spacing={3}>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"PAN\"\r\n                            name=\"pan_rp\"\r\n                            value={formData.pan_rp}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"Investor Name\"\r\n                            name=\"inv_name\"\r\n                            value={formData.inv_name}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"Date of Birth/Incorporation\"\r\n                            name=\"dob\"\r\n                            type=\"date\"\r\n                            value={formData.dob}\r\n                            onChange={handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <FormControl fullWidth>\r\n                            <InputLabel>Tax Status</InputLabel>\r\n                            <Select\r\n                                name=\"tax_status\"\r\n                                value={formData.tax_status}\r\n                                onChange={handleChange}\r\n                            >\r\n                                <MenuItem value=\"04\">Non Individual</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"Place of Birth/Incorporation\"\r\n                            name=\"po_bir_inc\"\r\n                            value={formData.po_bir_inc}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"Nature of Business\"\r\n                            name=\"nature_bus\"\r\n                            value={formData.nature_bus}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"Net Worth\"\r\n                            name=\"net_worth\"\r\n                            type=\"number\"\r\n                            value={formData.net_worth}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            label=\"Net Worth Date\"\r\n                            name=\"nw_date\"\r\n                            type=\"date\"\r\n                            value={formData.nw_date}\r\n                            onChange={handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n\r\n                    {/* UBO Details Section */}\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            UBO Details\r\n                        </Typography>\r\n                    </Grid>\r\n\r\n                    {formData.ubo_details.map((ubo, index) => (\r\n                        <React.Fragment key={index}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    required\r\n                                    fullWidth\r\n                                    label=\"UBO Name\"\r\n                                    value={ubo.ubo_name}\r\n                                    onChange={(e) => handleUBOChange(index, 'ubo_name', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    required\r\n                                    fullWidth\r\n                                    label=\"UBO PAN\"\r\n                                    value={ubo.ubo_pan}\r\n                                    onChange={(e) => handleUBOChange(index, 'ubo_pan', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    required\r\n                                    fullWidth\r\n                                    label=\"UBO Address Line 1\"\r\n                                    value={ubo.ubo_add1}\r\n                                    onChange={(e) => handleUBOChange(index, 'ubo_add1', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    required\r\n                                    fullWidth\r\n                                    label=\"UBO Mobile\"\r\n                                    value={ubo.ubo_mobile}\r\n                                    onChange={(e) => handleUBOChange(index, 'ubo_mobile', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    required\r\n                                    fullWidth\r\n                                    label=\"UBO Email\"\r\n                                    type=\"email\"\r\n                                    value={ubo.ubo_email}\r\n                                    onChange={(e) => handleUBOChange(index, 'ubo_email', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    required\r\n                                    fullWidth\r\n                                    label=\"Holding Percentage\"\r\n                                    type=\"number\"\r\n                                    value={ubo.ubo_hol_pc}\r\n                                    onChange={(e) => handleUBOChange(index, 'ubo_hol_pc', e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                        </React.Fragment>\r\n                    ))}\r\n\r\n                    <Grid item xs={12}>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            style={{ marginTop: 20 }}\r\n                        >\r\n                            Submit FATCA Registration\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n\r\n            <Snackbar\r\n                open={snackbar.open}\r\n                autoHideDuration={6000}\r\n                onClose={handleCloseSnackbar}\r\n            >\r\n                <Alert\r\n                    onClose={handleCloseSnackbar}\r\n                    severity={snackbar.severity}\r\n                >\r\n                    {snackbar.message}\r\n                </Alert>\r\n            </Snackbar>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default FATCAUpload; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}